<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paint</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700" rel="stylesheet">
</head>
<body onmouseup="mouseUp()">
    <div id="TittleBar">
        <h1>PaintJS</h1>
    </div>
    <div id="WindowContent">
        <div id="SideBar">
            <div id="ToolsBox">
                <div id="ToolSelectionBox">
                    <div class="ToolButton" id="PBrButton" onclick="selectTool(this)"> <!-- PaintBrushButton -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xml:space="preserve">
                            <path class="PBrSvgElement" fill="#9A949B" d="M12.89,20.53l3.91,2.55c0.76,0.5,1.79,0.21,2.18-0.62L26.45,6.7c0.32-0.68,0.09-1.49-0.54-1.91l0,0c-0.63-0.41-1.47-0.29-1.96,0.28L12.57,18.29C11.97,18.98,12.12,20.03,12.89,20.53z"/>
                            <path class="PBrSvgElement" fill="#9A949B" d="M11.81,24.99c0,0,2.51-3.54,2.26-3.65c-0.96-0.46-3.5-1.15-4.94,3.24c0,0-0.95,2.61-0.04,6.07c0,0,1.7-3.05,4.51-3.36c0,0,5.26-2.28,1.28-5.43C14.74,21.76,11.95,25.09,11.81,24.99z"/>
                        </svg>
                    </div>
                    <div class="ToolButton" id="EraButton" onclick="selectTool(this)"> <!-- EraserButton -->
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35; margin: 2px;" xml:space="preserve">
                            <path class="EraSvgElement" fill="#9A949B" d="M15.6,33.9c-0.5,0-1-0.4-1-1c0-0.6,0.4-1,1-1l17.1-0.1c0,0,0,0,0,0c0.5,0,1,0.4,1,1c0,0.6-0.4,1-1,1L15.6,33.9C15.6,33.9,15.6,33.9,15.6,33.9z"/>
                            <path class="EraSvgElement" fill="#9A949B" d="M15.6,33.8c-0.4,0-0.7-0.1-1-0.3l-10-6.1c-0.9-0.6-1.2-1.8-0.7-2.7L17.8,2.1C18,1.7,18.5,1.3,19,1.2c0.5-0.1,1.1,0,1.5,0.2l0,0l10,6.1c0.4,0.3,0.8,0.7,0.9,1.2c0.1,0.5,0,1-0.2,1.5L17.2,32.9C16.9,33.5,16.2,33.8,15.6,33.8zM19.4,3.2L5.6,25.7l10,6.1L29.4,9.3L19.4,3.2z"/>
                            <path class="EraSvgElement" fill="#9A949B" d="M11.7,13.9l6.8-11.2c0.8-1.4,1.6-0.1,2.9,0.7l8,5.2c0.6,0.4,0.7,1.1,0.4,1.6l-6.6,10.8"/>
                        </svg>
                    </div>
                    <div class="ToolButton" id="SDrButton" onclick="selectTool(this)">
                       
                    </div>
                    <div class="ToolButton" id="CPiButton" onclick="selectTool(this)">
                       
                    </div>
                    <div class="ToolButton" id="BucButton" onclick="selectTool(this)">
                        
                    </div>
                </div>
                <div id="ToolPreferencesBox">
                    <fieldset id="ToolPreferencesFieldset">
                        <!-- <legend>Tool Settings</legend>
                        <div>
                            <label>Selected width: </label><br>
                            <input id="PBrStrokeSlider" type="range" min="1" max="72" value="12" oninput="changeStroke(this)">
                            <input id="PBrStrokeValue" type="number" min="1" max="72" value="12" onchange="changeStroke(this)"><br>
                        </div>
                        <div>
                            <label>Selected brush type: </label><br>
                            <select id="SelectBrushType">
                                <option value="">Square</option>
                            </select>
                        </div> --> 
                    </fieldset>
                </div>
            </div>
            <div id="ActionBox">
                <button class="ActionButton" id="UndoButton" onclick="undoLastAction()">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xml:space="preserve">
                        <path fill="#682375" d="M15.18,32.22c-0.54,0-0.99-0.43-1-0.98c-0.01-0.55,0.42-1.01,0.98-1.02c5.83-0.13,10.58-4.99,10.58-10.83c0-5.92-4.64-10.68-10.55-10.83c-0.55-0.01-0.99-0.47-0.97-1.02c0.01-0.55,0.45-1.02,1.02-0.97c7.01,0.18,12.5,5.81,12.5,12.83c0,6.92-5.62,12.67-12.53,12.83C15.19,32.22,15.19,32.22,15.18,32.22z"/>
                        <path fill="#682375" d="M15.21,8.56H8.27c-0.55,0-1-0.45-1-1s0.45-1,1-1h6.94c0.55,0,1,0.45,1,1S15.76,8.56,15.21,8.56z"/>
                        <path fill="#682375" d="M12.08,12.34c-0.26,0-0.51-0.1-0.71-0.29L7.59,8.27c-0.39-0.39-0.39-1.02,0-1.41s1.02-0.39,1.41,0l3.78,3.78c0.39,0.39,0.39,1.02,0,1.41C12.59,12.25,12.33,12.34,12.08,12.34z"/>
                        <path fill="#682375" d="M8.27,8.56c-0.26,0-0.51-0.1-0.71-0.29c-0.39-0.39-0.39-1.02,0-1.41l3.78-3.78c0.39-0.39,1.02-0.39,1.41,0s0.39,1.02,0,1.41L8.97,8.27C8.78,8.46,8.52,8.56,8.27,8.56z"/>
                    </svg>
                </button>
                <button class="ActionButton" id="UndoButton">
                    <!-- <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xml:space="preserve">
                    </svg> -->
                </button>
            </div>
            <div id="ColorsBox">
                <div id="SelectedColorBox">
                    <input type="color" id="SelectedColor" onchange="setWithColorPicker()">
                    <input type="text" id="SelectedColorHex" style="width: 60px; margin-bottom: 5px; font-size: 10pt;" value="#000000" onchange="setColorWithHex()"><br>
                    <button id="CopyHexButton" onclick="copyHex()">Copy</button>
                </div>
                <div id="ColorLibraryBox">
                    <table id="ColorLibraryTable">
                        <tr>
                            <td class="SavedColorBox" id="DefaultColor1-1" hex-data="#ff0000" style="background-color: red;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor1-2" hex-data="#ffa500" style="background-color: orange;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor1-3" hex-data="#ffff00" style="background-color: yellow;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor1-4" hex-data="#008000" style="background-color: green;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor1-5" hex-data="#87ceeb" style="background-color: skyblue;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor1-6" hex-data="#0000ff" style="background-color: blue;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor1-7" hex-data="#800080" style="background-color: purple;" onclick="setColorFromLibrary(this)"></td>
                        </tr>
                        <tr>
                            <td class="SavedColorBox" id="DefaultColor2-1" hex-data="#dc143c" style="background-color: crimson;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor2-2" hex-data="#a52a2a" style="background-color: brown;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor2-3" hex-data="#d2691e" style="background-color: chocolate;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor2-4" hex-data="#9acd32" style="background-color: yellowgreen;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor2-5" hex-data="#add8e6" style="background-color: lightblue;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor2-6" hex-data="#ee82ee" style="background-color: violet;" onclick="setColorFromLibrary(this)"></td>
                            <td class="SavedColorBox" id="DefaultColor2-7" hex-data="#8a2be2" style="background-color: blueviolet;" onclick="setColorFromLibrary(this)"></td>
                        </tr>
                        <tr>
                            <td class="SavedColorBox" id="UserColor1-1" style="background-color: black;"></td>
                            <td class="SavedColorBox" id="UserColor1-2" style="background-color: gray;"></td>
                            <td class="SavedColorBox" id="UserColor1-3" style="background-color: darkgray;"></td>
                            <td class="SavedColorBox" id="UserColor1-4" style="background-color: lightgray;"></td>
                            <td class="SavedColorBox" id="UserColor1-5" style="background-color: white;"></td>
                            <td class="SavedColorBox" id="UserColor1-6" style="background-color: white;"></td>
                            <td class="SavedColorBox" id="UserColor1-7" style="background-color: white;"></td>
                        </tr>
                        <tr>
                            <td class="SavedColorBox" id="UserColor2-1" style="background-color: white;"></td>
                            <td class="SavedColorBox" id="UserColor2-2" style="background-color: white;"></td>
                            <td class="SavedColorBox" id="UserColor2-3" style="background-color: white;"></td>
                            <td class="SavedColorBox" id="UserColor2-4" style="background-color: white;"></td>
                            <td class="SavedColorBox" id="UserColor2-5" style="background-color: white;"></td>
                            <td class="SavedColorBox" id="UserColor2-6" style="background-color: white;"></td>
                            <td class="SavedColorBox" id="UserColor2-7" style="background-color: white;"></td>
                        </tr>
                    </table>
                    <p id="UserColorHint">Hint: Right-click on any color of 2 bottom rows to save your color</p>
                </div>
            </div>
            <div id="FileInteractionBox">
                <fieldset id="FileInteractionFieldset">
                    <legend id="FileActionsLegend">File actions</legend>
                    <button class="FileButton" id="NewFileButton" onclick="openCreateFilePopup()">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xml:space="preserve">
                            <path fill="#682375" d="M21.7,32H8.8c-1.1,0-2-0.9-2-2V5.2c0-1.1,0.9-2,2-2h11.7l7.8,7.7v14.5h-2V11.7l-6.6-6.5H8.8l0,24.8l12.9,0V32z"/>
                            <polyline fill="#682375" points="20.1,4.2 20.1,11.4 27.3,11.3 	"/>
                            <polygon fill="#682375" points="19.1,12.4 19.1,4.2 21.1,4.2 21.1,10.4 27.3,10.3 27.3,12.3 	"/>
                            <rect fill="#682375" x="23.7" y="30" width="7.2" height="2"/>
                            <rect fill="#682375" x="26.3" y="27.4" width="2" height="7.2"/>
                        </svg>
                    </button>
                    <button class="FileButton" id="OpenFileButton">
                        
                    </button>
                    <button class="FileButton" id="SaveAsButton" onclick="saveFile()">
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xml:space="preserve">
                            <path fill="#682375" d="M24.25,26.1H6.28c-1.31,0-2.37-1.06-2.37-2.37V5.69c0-1.3,1.06-2.37,2.36-2.37l16.28-0.06l3.95,3.95v16.62C26.51,25.08,25.49,26.1,24.25,26.1z M21.73,5.27L6.28,5.32c-0.2,0-0.37,0.17-0.37,0.37v18.03c0,0.2,0.17,0.37,0.37,0.37h17.97c0.14,0,0.26-0.12,0.26-0.26V8.04L21.73,5.27z"/>
                            <polygon fill="#682375" points="21.21,12.8 9.34,12.8 9.34,4.26 11.34,4.26 11.34,10.8 19.21,10.8 19.21,4.27 21.21,4.27 "/>
                            <polygon fill="#682375" points="23.07,25.1 21.07,25.1 21.07,17.84 9.39,17.84 9.39,25.1 7.39,25.1 7.39,15.84 23.07,15.84 "/>
                            <path fill="#682375" d="M28.59,32.31c-0.26,0-0.52-0.1-0.71-0.29l-3.67-3.67l1.41-1.41l1.96,1.96v-6.92h2v9.33c0,0.4-0.24,0.77-0.62,0.92C28.85,32.29,28.72,32.31,28.59,32.31z"/>
                            <rect fill="#682375" x="27.83" y="28.48" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -11.935 30.1492)"  width="5.18" height="2"/>
                        </svg>
                    </button>
                </fieldset>
            </div>
            <input type="text" id="CursorLocationInput" readonly>
        </div>
        <div id="CanvasContainer">
            <canvas id="Canvas" height="0px" width="0px" onmousemove="getCursorLocation(event)" onmousedown="mouseDown()"></canvas>
        </div>
    </div>
    <div id="BackgroundDim">
        <div id="FileCreationPopup" class="PopupWindow" style="width: 420px; height: 280px;">
            <h2>New File</h2>
            <div class="PopupOptions">
                <div id="SizeInputs" class="PopupContentGroup">
                    <div class="InputBox">
                        <label>Canvas Width</label><br>
                        <input type="number" id="WidthInput" min="1" value="800">
                    </div>
                    <div class="InputBox">
                        <label>Canvas Height</label><br>
                        <input type="number" id="HeightInput" min="1" value="600">
                    </div>
                </div>
                <div id="Other" class="PopupContentGroup">
                    <div class="InputBox">
                        <label>Measure units</label><br>
                        <select id="UnitSelection">
                            <option value="">pixels</option>
                        </select>
                    </div>
                    <button onclick="swapValues()">🔀</button>
                </div>
            </div>
            <button class="FinishPopupButton" onclick="createCanvas()">Create</button><br>
            <button class="CancelButton" onclick="closeFileCreationPopup()">Cancel</button>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>